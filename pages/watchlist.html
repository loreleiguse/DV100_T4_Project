<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Watchlist Page</title>

    <!-- Style Sheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="../styles/watchlist.css">

   
</head>
<body>
    
    <!-- Nav Bar -->
     <nav class="navbar fixed-top">
        <div class="container d-flex justify-content-between">
            <div class="z-navbar-brand"><a href="#"> <img src="../Assets/DV_104_Logo_Final-02.png"></a></div>
            <ul class="nav">
                <li class="z-nav-item">
                    <a class="nav-link" href="/index.html">HOME</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/pages/library.html">LIBRARY</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current= "page" href="/pages/watchlist.html">WATCH LIST</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/pages/signin.html"><i class="bi bi-person-circle" style="margin-right: 5px;"></i>SIGN IN</a>
                </li>
            </ul>
        </div>
    </nav>
  
     <!-- header -->
    <div class="container container-header">
        <div class="row">
          <div class="col-xl">
            <h1>The Joker </h1>
            <p>Arthur Fleck, a party clown, leads an impoverished life with his ailing mother.</p>
            <p>However, when society shuns him and brands him as a freak,</p>
            <p> decides to embrace the life of crime and chaos.</p>
            <button class="mt-4">Watch Now</button>
            <button class="invisible-button" >Add to Watchlist</button>
           <img src="../assets/Bookmark.svg"alt="bookmark" class="button-image">
          </div>
        </div>
    </div>


        
<!-- movie cards -->
    <div class="container card-container">
    <div class="row gy-4">
        <h3>My Watchlist</h3>
        <!-- Card 1 -->
        <div class="col-md-3">
            <div class="card-container">
                <!-- Card content -->
                <img src="../assets/oppenheimer.jpg" class="card-img-top" alt="...">
                <p>Oppenheimer</p>
                <p>Christopher Nolan</p>
                <p>2023</p>
                <p>4.8 Rating <img src="../assets/Minus.svg" alt="bookmark" class="button-image"></p> 
            </div>
        </div>
        <!-- Card 2 -->
        <div class="col-md-3">
            <div class="card-container">
                <!-- Card content -->
                <img src="../assets/insidious_ the red door.jpg" class="card-img-top" alt="...">
                <p>Insidious: The Red Door</p>
                <p>Patrick Wilson</p>
                <p>2023</p>
                <p>3.8 Rating <img src="../assets/Minus.svg" alt="bookmark" class="button-image"></p> 
                
            </div>
        </div>
        <!-- Card 3 -->
        <div class="col-md-3">
            <div class="card-container">
                <!-- Card content -->
                <img src="../assets/barbie.jpg" class="card-img-top" alt="...">
                <p>Barbie</p>
                <p>Greta Gerwig</p>
                <p>2023</p>
                <p>4.8 Rating <img src="../assets/Minus.svg" alt="bookmark" class="button-image"></p> 
            </div>
        </div>
        <!-- Card 4 -->
        <div class="col-md-3">
            <div class="card-container">
                <!-- Card content -->
                <img src="../assets/the flash.jpg" class="card-img-top" alt="...">
                <p>The Flash <i class="fas fa-laugh-squint    "></i></p>
                <p>Andres Muschietti</p>
                <p>2023</p>
                <p>2.1 Rating <img src="../assets/Minus.svg" alt="bookmark" class="button-image"></p> 
            </div>
        </div>

        <!-- Card 5 -->
        <div class="col-md-3">
            <div class="card-container">
                <!-- Card content -->
                <img src="../assets/talk to me.jpg" class="card-img-top" alt="...">
                <p>Talk To Me <i class="fas fa-laugh-squint    "></i></p>
                <p>Danny Philippou,</p>
                <p>Micheal Philippou</p>
                <p>2023</p>
                <p>4.1 Rating <img src="../assets/Minus.svg" alt="bookmark" class="button-image"></p> 
            </div>
        </div>

        <!-- Card 6 -->
        <div class="col-md-3">
            <div class="card-container">
                <!-- Card content -->
                <img src="../assets/pearl.jpg" class="card-img-top" alt="...">
                <p>Pearl <i class="fas fa-laugh-squint    "></i></p>
                <p>Ti West</p>
                <p>2022</p>
                <p>4.5 Rating <img src="../assets/Minus.svg" alt="bookmark" class="button-image"></p> 
            </div>
        </div>

        <!-- Card 7 -->
        <div class="col-md-3">
            <div class="card-container">
                <!-- Card content -->
                <img src="../assets/superbad.jpg" class="card-img-top" alt="...">
                <p>Greg Mottola<i class="fas fa-laugh-squint    "></i></p>
                <p>Andres Muschietti</p>
                <p>2007</p>
                <p>4.8 Rating <img src="../assets/Minus.svg" alt="bookmark" class="button-image"></p> 
            </div>
        </div>

        <!-- Card  -->
        <div class="col-md-3">
            <div class="card-container">
                <!-- Card content -->
                <img src="../assets/Léon_The Professional.jpg" class="card-img-top" alt="...">
                <p>Léon: The Professional <i class="fas fa-laugh-squint    "></i></p>
                <p>Luc Besson</p>
                <p>1994</p>
                <p>4.5 Rating <img src="../assets/Minus.svg" alt="bookmark" class="button-image"></p> 
            </div>
        </div>
       
    </div>
</div>

   
    <!-- Javascript -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="../scripts/main.js"></script>
    
    <!-- Javascript for Watchlist -->
    <script>

        // Remove Movie from Watchlist
        // Get all the "Remove" buttons
const removeButtons = document.querySelectorAll('.button-image');

// Function to handle the removal of a movie
function removeMovie(event) {
    // Find the parent card container
    const cardContainer = event.target.closest('.card-container');

    // Retrieve the movie list from local storage
    const movieList = JSON.parse(localStorage.getItem('movieList')) || [];

    // Find the index of the movie in the list (you may need to modify this based on your data structure)
    const index = Array.from(cardContainer.parentElement.children).indexOf(cardContainer);

    // Remove the movie from the list
    if (index !== -1) {
        movieList.splice(index, 1);
    }

    // Save the updated movie list in local storage
    localStorage.setItem('movieList', JSON.stringify(movieList));

    // Remove the card container from the DOM
    cardContainer.parentElement.removeChild(cardContainer);
}

// Attach a click event listener to each "Remove" button
buttonImage.forEach((button) => {
    button.addEventListener('click', removeMovie);
});




        // Check if local storage has the movie list
        if (localStorage.getItem('movieList')) {
            // Retrieve the movie list from local storage
            const movieList = JSON.parse(localStorage.getItem('movieList'));
    
            // Function to create a movie card
            function createMovieCard(movie) {
                const cardContainer = document.createElement('div');
                cardContainer.classList.add('col-md-3');
    
                const cardContent = document.createElement('div');
                cardContent.classList.add('card-container');
    
                const movieImage = document.createElement('img');
                movieImage.src = movie.image; 
                movieImage.classList.add('card-img-top');
                movieImage.alt = 'Movie Image';
    
                const movieTitle = document.createElement('p');
                movieTitle.textContent = movie.title;
    
                const movieDirector = document.createElement('p');
                movieDirector.textContent = movie.director;
    
                const movieYear = document.createElement('p');
                movieYear.textContent = movie.year;
    
                const movieRating = document.createElement('p');
                movieRating.textContent = movie.rating;
    
                // Append all elements to the card container
                cardContent.appendChild(movieImage);
                cardContent.appendChild(movieTitle);
                cardContent.appendChild(movieDirector);
                cardContent.appendChild(movieYear);
                cardContent.appendChild(movieRating);
    
                cardContainer.appendChild(cardContent);
    
                return cardContainer;
            }
    
            // Get the container to display movie cards
            const movieContainer = document.querySelector('.row.gy-4');
    
            // Loop through the movie list and create movie cards
            movieList.forEach((movie) => {
                const movieCard = createMovieCard(movie);
                movieContainer.appendChild(movieCard);
            });
        }

        //  the click event
    document.querySelector('.invisible-button').addEventListener('click', function () {
    // Retrieve the movie list from local storage
    const movieList = JSON.parse(localStorage.getItem('movieList')) || [];

    // Add the selected movie to the list
    const movie =[
    {
        title: 'Oppenheimer',
        director: 'Christopher Nolan',
        year: '2023',
        rating: '4.8',
        image: '',
    },

    {
        title: 'Insidious: The Red Door',
        director: 'Patrick Wilson',
        year: '2023',
        rating: '4.8',
        image: '',
    },

    {
        title: 'Oppenheimer',
        director: 'Christopher Nolan',
        year: '2023',
        rating: '4.8',
        image: '',
    },

    {
        title: 'Oppenheimer',
        director: 'Christopher Nolan',
        year: '2023',
        rating: '4.8',
        image: '',
    },

    {
        title: 'Oppenheimer',
        director: 'Christopher Nolan',
        year: '2023',
        rating: '4.8',
        image: '',
    },

    {
        title: 'Oppenheimer',
        director: 'Christopher Nolan',
        year: '2023',
        rating: '4.8',
        image: '',
    },

    {
        title: 'Oppenheimer',
        director: 'Christopher Nolan',
        year: '2023',
        rating: '4.8',
        image: '',
    },




    ];

    movieList.push(movie);

    // Save the updated movie list in local storage
    localStorage.setItem('movieList', JSON.stringify(movieList));
});

    </script>
    
 



  
    <!-- Footer -->
    <footer>
        <div class="footer-content">
          <div class="logo-footer">
            <img src="./Assets/DV_104_Logo_Final-02.png" alt=""  href="/index.html">
          </div>
          <div class="quick-menu">
            <h4>QUICK MENU</h4>
            <h6 href="/index.html">HOME</h6>
            <h6>LIBRARY</h6>
            <h6>WATCH LIST</h6>
          </div>
    
          <div class="contact-us">
            <h4>CONTACT US</h4>
            <h6>+27 98 678 483</h6>
            <h6>Info@shufflewatch.co.za</h6>
          </div>
          <div class="social-links">
            <i class="bi bi-instagram"></i>
            <i class="bi bi-facebook"></i>
            <i class="bi bi-tiktok"></i>
          </div>
        </div>
        <div class="color-box">
          <div class="color-text"><p>© 2023 SHUFFLEWATCH. Inc. All rights reserved.</p></div>
        </div>
    </footer>

   
    <!-- Javascript -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="../scripts/main.js"></script>

</body>
</html>
